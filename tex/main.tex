\input{preamble}

\newcommand{\titlefr}{Étendre des interpréteurs par détournement, ou comment étendre des interpréteurs sans en modifier le code}
\newcommand{\subtitlefr}{Avec une application à des analyses dynamiques pour un interpréteur de JavaScript}
\newcommand{\titleen}{Extending interpreters by diverting, or how to extend interpreters without modifying their source code}

\title{\titlefr}
\author{fmdkdd}

%% Setup title, abstract, keywords used for the front and back covers.
\input{edstim-preamble}

\begin{document}

\begin{resume}
\input{abstract-fr}
\end{resume}

\begin{motscles}
Extensibilité, modularité, interpréteurs, instrumentation, patrons de
conception, programmation par objets, programmation par aspects, JavaScript
\end{motscles}

\begin{abstract_}
\input{abstract-en}
\end{abstract_}

\begin{keywords}
Extensibility, modularity, interpreters, instrumentation, Design Patterns,
Object-Oriented Programming, Aspect-Oriented Programming, JavaScript
\end{keywords}

%% Mandatory cover.  Not my fault!
\input{edstim-cover}

%% Background image, per StackOverflow wisdom:
%% https://tex.stackexchange.com/questions/46280/how-to-create-a-background-image-on-title-page-with-latex
%% \AddToShipoutPicture*{\BackgroundPic}

%% Insert title, TOC, and acknowledgments.  The Org document must not insert
%% title or TOC itself, otherwise they will appear before the frontmatter
%% command.

\frontmatter
\pagestyle{empty}

%% \chapter*{Remerciements}
%% %% Fix heading mark showing “Contents”
%% %% as suggested here:
%% %% https://en.wikibooks.org/wiki/LaTeX/Document_Structure#The_document_environment
%% \markboth{\MakeUppercase{Remerciements}}{}
%% \cleardoublepage
%% \section*{Acknowledgements}
%% \input{acks}

\cleardoublepage
\section*{Résumé}
\input{abstract-fr}

\newgeometry{left=3cm,right=4.4cm,textheight=666pt}
\clearpage
\tableofcontents*
\restoregeometry

\mainmatter
\pagestyle{headings}
\input{manuscript}

%% Back matter for bibliography, eventual index.
\backmatter

\newgeometry{left=2cm,right=3cm,textheight=636pt,bottom=2.9cm}
\printbibliography
\restoregeometry

%% Back cover is automatically inserted by a \AtEndDocument in edstim-preamble

\end{document}
